# README.md

## Телеграм Бот MessBo (@messbobot)

MessBo - Доска Объявлений это Telegram-бот, позволяющий создавать личные и общие доски объявлений в чатах. Проект написан студентом на Python 3.14 в рамках учебной программы.

---

### История версий

Посмотреть историю версий можно [здесь](CHANGELOG.md).

---

### Возможности бота

* Создание неограниченного кол-ва досок объявлений в одном чате.
* Добавление неограниченного кол-ва записей на доску, отсортированных по дате изменения.
* Редактирование и удаление досок и записей на них.
* Система прав доступа, включающая в себя временные запросы, которыми возможно назначать модераторов доски и/или передавать права владения доской.

---

### Желаемые, но нереализованные возможности

* Оптимизация кода путём выноса всех шаблонных паттернов регулярных выражений в отдельные функции.
* Расширение логирования для более специфичного указания на место ошибки.
* Добавление ограничения срока жизни одного запроса в 24 часа.

---

### Как запустить проект

1. Клонировать репозиторий и зайти в него:
```bash
git clone https://github.com/Tapotheslipper/messbo.git
cd messbo
```
2. Создать виртуальное окружение, запустить его и установить зависимости:
```bash
python -m venv venv

source venv/bin/activate (Linux/MacOS)
```
```bat
venv/Scripts/activate (Windows)
```
```bash
pip install -r requirements.txt
```
3. Скопировать файл .env.example в .env и вставить необходимый токен (запросить новый у @BotFather)
4. Запустить:
```bash
python main.py
```

---

### Используемые ресурсы:

* [Статья на Хабр](https://habr.com/ru/articles/442800/)

* [Документация pyTelegramBotAPI](https://pytba.readthedocs.io/ru/latest/)

---

### Файловая структура

```
/bot/
    /create_bot.py         # создание бота
    /run_bot.py            # запуск бота
/config/
    /config.py             # конфигурация
/controllers/
    /board_controller.py   # контроллер для управления досками
    /request_controller.py # контроллер для управления запросами
/database/
    /connection.py         # подключение к базе данных
/handlers/
    /boards.py             # обработчики команд, связанных с досками
    /fallback.py           # обработчики сообщений не-команд (только для личных сообщений)
    /general.py            # обработчик общих (базовых) команд
    /register_handlers.py  # регистрация обработчиков в одном месте
    /requests.py           # обработчики команд, связанных с запросами
    /variables.py          # статичные переменные для обработчиков
/logs/
    /bot.log               # логирование
/models/
    /Board.py              # модель доски
    /BoardEntry.py         # модель записи на доске
    /Logger.py             # модель логгера
    /Request.py            # модель запроса
/.env.example              # пример необходимого окружения
/CHANGELOG.md              # список основных изменений по версиям
/main.py                   # точка входа в бота
/requirements.txt          # используемые зависимости
```

---

### Используемые технологии
```
Python           -> 3.14.0
pyTelegramBotApi -> 4.29.1
sqlite3          -> 3.50.4
python-dotenv    -> 1.2.1
```
